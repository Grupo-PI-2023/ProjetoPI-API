generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Comissao {
  id               String   @id
  name             String
  email            String   @unique
  senha            String
  cpf              String
  instituicao      String
  certificado      String?
  turno            String
  lattes           String
  adm              Boolean?
  organizador      Boolean?
  avaliador        Boolean?
  chair            Boolean?
  Event            Event[]
  Sessao           Sessao?
  areaConhecimento Area[]   @relation("AreaToComissao")
}

model Area {
  id        String     @id
  nome      String
  eventoId  String
  evento    Event      @relation(fields: [eventoId], references: [id])
  comissoes Comissao[] @relation("AreaToComissao")

  @@index([eventoId], map: "Area_eventoId_fkey")
}

model Aluno {
  id           String   @id
  name         String
  email        String   @unique
  senha        String
  cpf          String
  instituicao  String
  certificado  String?
  periodo      String
  curso        String
  autor        Boolean
  apresentador Boolean?
  presenca     Boolean?
}

model Event {
  id               String   @id
  nomeEvento       String
  descricao        String
  emailEvento      String   @unique
  tipo             String
  assuntoPrincipal String
  local            String
  cep              String
  horarioInicio    String
  horarioFim       String
  dataInicio       String?
  dataFinal        String?
  privado          Boolean
  anais            Boolean
  certificados     Boolean
  logo             String?
  periodo          String
  createdAt        DateTime @default(now())
  comissaoId       String
  Area             Area[]
  comissao         Comissao @relation(fields: [comissaoId], references: [id])
  Sala             Sala[]

  @@index([comissaoId], map: "Event_comissaoId_fkey")
}

model Sala {
  id            String  @id
  andar         Int
  tipo          String
  numero        Int     @unique
  limitePessoas Int
  temaSala      String
  eventId       String  
  event         Event   @relation(fields: [eventId], references: [id])
  Sessao        Sessao?
}

model Sessao {
  id                String   @id
  tempoSessao       Int
  tempoApresentacao Int
  anfiteatro        Boolean?
  salaId            String   @unique
  horario           Int
  comissaoId        String   @unique
  comissao          Comissao @relation(fields: [comissaoId], references: [id])
  sala              Sala     @relation(fields: [salaId], references: [id])
}
